<nav class="nav-menu">
  <ul>
    {% for item in site.data.navigation %}
      {% if item.children %}
        <li>
          <details {% if item.children | map: "url" | where: page.url | size > 0 %}open{% endif %}>
            <summary>{{ item.name }}</summary>
            <ul>
              {% for child in item.children %}
                <li class="{% if page.url == child.url %}active{% endif %}">
                  <a href="{{ child.url | relative_url }}">{{ child.name }}</a>
                </li>
              {% endfor %}
            </ul>
          </details>
        </li>
      {% else %}
        <li class="{% if page.url == item.url %}active{% endif %}">
          <a href="{{ item.url | relative_url }}">{{ item.name }}</a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</nav>

